# Typescript


## Запуск 

На typescript переведена только часть Node-сервера, которая находится в папке server.

Запустить сервер
```
npm i
npm install -g typescript ts-node
ts-node ./server/server.ts
```

В консоль пишутся логи, если вызываем какие-то ручки сервера.

Также можно запустить клиента
```
cd client
npm start
```

## Комментарии

В целом, мне очень понравился Typescript. Из-за нехватки времени не получилось перенести на него клиента. Но даже по переписыванию небольшого кусочка приложения стало понятно, что Typescript очень помогает 
- лучше разбираться в потоках данных
- исправлять ошибки еще на этапе разработки.

Сложно было разобраться с типами запросов и ответов от API базы данных. 
Непонятно было, какой указать тип у ошибки в методе getErrorData(e: GeneralError). Ошибки могут быть сгенерированы в коде, и тогда имеют тип ServerError. Либо ошибки могут вылетать из axios, тогда у них непонятно какой тип. AxiosError не заработал.

Использовала generic-и для response сервера: ResponseType<SettingsResponse>

Плюсы typescript:
1. Помог найти ошибку "Expected 1 arguments, but got 2.". Я передавала в метод findCommit 2 аргумента, а метод принимает только 1 аргумент.
2. Помог свести к одному типу все генерируемые исключения и ошибки сервера (метод getErrorData, тип ErrorType). 
3. Помог лучше разобраться, где какие структуры передаются и места их использования. Хотя код сама писала пару недель назад, но уже забываешь, что где. 

С Typescript код поддерживать гораздо легче. Однозначно волью pull request в master.